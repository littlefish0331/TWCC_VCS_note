
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <title>MySQL · GitBook</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.0">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="BigObject.html" />
    
    
    <link rel="prev" href="MariaDB.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    README
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">基礎操作 BASIC</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../BASIC/Initial_Status.html">
            
                <a href="../BASIC/Initial_Status.html">
            
                    
                    Initial Status
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../BASIC/SSH_Connect.html">
            
                <a href="../BASIC/SSH_Connect.html">
            
                    
                    SSH Connect
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../BASIC/TWCC-Port_Connect.html">
            
                <a href="../BASIC/TWCC-Port_Connect.html">
            
                    
                    TWCC-Port Connect
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../BASIC/Permission.html">
            
                <a href="../BASIC/Permission.html">
            
                    
                    Permission
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../BASIC/Mount_Disk.html">
            
                <a href="../BASIC/Mount_Disk.html">
            
                    
                    Mount Disk
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="../BASIC/Env_Variable.html">
            
                <a href="../BASIC/Env_Variable.html">
            
                    
                    Environment Variable
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="../BASIC/VPN.html">
            
                <a href="../BASIC/VPN.html">
            
                    
                    VPN
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="../BASIC/bash_command.md">
            
                <span>
            
                    
                    Bash Command
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">進階主題</li>
        
        
    

    
        
        <li class="header">Docker</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../Docker/Docker_DockerCompose_Install.html">
            
                <a href="../Docker/Docker_DockerCompose_Install.html">
            
                    
                    Install Docker and DockerCompose
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../Docker/Learning_from_Others.html">
            
                <a href="../Docker/Learning_from_Others.html">
            
                    
                    Learning from Others
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="../Docker/DockerHub_resource.md">
            
                <span>
            
                    
                    DockerHub
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="../Docker/Docker_Official_Tutorial.md">
            
                <span>
            
                    
                    Official Tutorial
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="../Docker/DockerFile.md">
            
                <span>
            
                    
                    DockerFile
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="../Docker/Docker_Command.html">
            
                <a href="../Docker/Docker_Command.html">
            
                    
                    Docker Command
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Database</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="MSSQL.html">
            
                <a href="MSSQL.html">
            
                    
                    MSSQL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="PostgreSQL.html">
            
                <a href="PostgreSQL.html">
            
                    
                    PostgreSQL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="MariaDB.html">
            
                <a href="MariaDB.html">
            
                    
                    MariaDB
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="5.4" data-path="MySQL.html">
            
                <a href="MySQL.html">
            
                    
                    MySQL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="BigObject.html">
            
                <a href="BigObject.html">
            
                    
                    BigObject
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="ElasticSearch.html">
            
                <a href="ElasticSearch.html">
            
                    
                    ElasticSearch
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.7" data-path="../Database_Command.md">
            
                <span>
            
                    
                    Database_Command
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Program</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../Program/R_Rstudio.html">
            
                <a href="../Program/R_Rstudio.html">
            
                    
                    R and Rstudio
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="../Program/jupyter_Python_R_Julia.html">
            
                <a href="../Program/jupyter_Python_R_Julia.html">
            
                    
                    jupyter:Python、R、Julia
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="../Program/datascienceschool.html">
            
                <a href="../Program/datascienceschool.html">
            
                    
                    datascienceschool
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="../Program/Grafana.html">
            
                <a href="../Program/Grafana.html">
            
                    
                    Grafana
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">其他 Others</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="../Others/Build_Gitbook.html">
            
                <a href="../Others/Build_Gitbook.html">
            
                    
                    Build Gitbook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="../VM_Container_story.md">
            
                <span>
            
                    
                    VM_Container_story
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="../little_skills.md">
            
                <span>
            
                    
                    little_skills
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">END</li>
        
        
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >MySQL</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="mysql">MySQL</h1><p>&#x8A18;&#x9304;&#x6211;&#x5728; VCS &#x4E0A;&#x64CD;&#x4F5C; container:MySQL &#x7684;&#x904E;&#x7A0B;&#xFF0C;&#x4EE5;&#x53CA;&#x4E00;&#x4E9B;&#x554F;&#x984C;&#x8981;&#x5982;&#x4F55;&#x514B;&#x670D;&#x3002;  <br>
&#x90E8;&#x5206;&#x662F;&#x5F9E; DockerHub &gt; Database &gt; MySQL &#x8907;&#x88FD;&#x904E;&#x4F86;&#x3002;</p><ul><li>&#x5982;&#x679C;&#x9023;&#x52D5;&#x7684;&#x8CC7;&#x6599;&#x593E;&#x6C92;&#x6709;&#x5EFA;&#x7ACB;&#xFF0C;docker&#x6703;&#x81EA;&#x52D5;&#x5EFA;&#x7ACB;&#x5E6B;&#x5FD9;&#x5EFA;&#x7ACB;&#x8A72;&#x8DEF;&#x5F91;&#x7684;&#x8CC7;&#x6599;&#x593E;&#x3002;&#x4F46;&#x9084;&#x662F;&#x5EFA;&#x8B70;&#x5148;&#x5EFA;&#x7ACB;&#x597D;&#x3002;
</li>
<li>&#x5BC6;&#x78BC;&#x7121;&#x6CD5;&#x767B;&#x5165;&#x7684;&#x554F;&#x984C;&#x8ACB;&#x770B; Database/MySQL&#xFF0C;&#x6709;&#x8AAA;&#x660E;&#x89E3;&#x6C7A;&#x65B9;&#x6CD5;&#x3002;
</li>
<li>&#x5982;&#x679C;&#x4E0D;&#x60F3;&#x8981;&#x6709;&#x5BC6;&#x78BC;&#x554F;&#x984C;&#x5C31; pull 5.7.31&#x7248;&#x7684; MySQL&#x3002;
</li></ul>
<p>--</p><p><strong>Content:</strong></p><!-- TOC -->


<ul><li><p><a href="#mysql">MySQL</a></p><ul><li><a href="#&#x555F;&#x52D5;-container">&#x555F;&#x52D5; container</a>
</li>
<li><p><a href="#&#x5BC6;&#x78BC;&#x7121;&#x6CD5;&#x767B;&#x5165;&#x7684;&#x554F;&#x984C;">&#x5BC6;&#x78BC;&#x7121;&#x6CD5;&#x767B;&#x5165;&#x7684;&#x554F;&#x984C;</a></p><ul><li><a href="#mycnf">my.cnf</a>
</li>
<li><a href="#docker-compose">docker-compose</a>
</li></ul>
</li>
<li><p><a href="#&#x770B;&#x4E00;&#x4E9B;&#x8B8A;&#x6578;&#x503C;">&#x770B;&#x4E00;&#x4E9B;&#x8B8A;&#x6578;&#x503C;</a></p></li>
<li><a href="#&#x5EFA;&#x7ACB;&#x65B0;&#x7528;&#x6236;&#x7D66;&#x4E88;&#x6B0A;&#x9650;">&#x5EFA;&#x7ACB;&#x65B0;&#x7528;&#x6236;+&#x7D66;&#x4E88;&#x6B0A;&#x9650;</a>
</li>
<li><a href="#&#x8A2D;&#x5B9A;-local-file-&#x53EF;&#x4EE5;&#x4E0A;&#x50B3;">&#x8A2D;&#x5B9A; local file &#x53EF;&#x4EE5;&#x4E0A;&#x50B3;</a>
</li>
<li><a href="#&#x7DE8;&#x78BC;">&#x7DE8;&#x78BC;</a>
</li>
<li><a href="#mysql-client">Mysql-Client</a>
</li>
<li><a href="#install-and-login">install and login</a>
</li>
<li><a href="#end">END</a>
</li></ul>
</li></ul>
<h2 id=""><!-- /TOC --></h2><p><strong>reference:</strong></p><ul><li><a href="https://hub.docker.com/_/mysql?tab=description" target="_blank">mysql - Docker Hub</a>
</li></ul>
<h2 id="&#x555F;&#x52D5;-container">&#x555F;&#x52D5; container</h2><p>&#x8A18;&#x5F97;&#x5148;&#x628A;&#x9023;&#x52D5;&#x7684;&#x5BE6;&#x9AD4;&#x8CC7;&#x6599;&#x593E;&#x958B;&#x597D;&#xFF0C;&#x4E26;&#x628A;&#x8A72;&#x8CC7;&#x6599;&#x593E;&#x7684;&#x4F7F;&#x7528;&#x8005;&#x4EE5;&#x53CA;&#x7FA4;&#x7D44;&#x8A2D;&#x5B9A;&#x597D;&#xFF0C;&#x518D;&#x57F7;&#x884C;&#x4E0B;&#x9762;&#x6307;&#x4EE4;&#x3002;</p><!-- MYSQL_ROOT_PASSWORD=MYSQL@2020 -->


<pre><code class="lang-{bash}">docker run \
--name some-mysql \
--env MYSQL_ROOT_PASSWORD=&lt;your_password&gt; \
-v /datamount/mysql/data:/var/lib/mysql \
-v /datamount/mysql/conf:/etc/mysql/conf.d \
-p 3306:3306 \
--detach mysql:latest

//&#x4E00;&#x884C;&#x6307;&#x4EE4;
docker run --name some-mysql --env MYSQL_ROOT_PASSWORD=&lt;your_password&gt; -v /datamount/mysql/data:/var/lib/mysql -v /datamount/mysql/conf:/etc/mysql/conf.d -p 3306:3306 --detach mysql:latest</code></pre>
<hr><h2 id="&#x5BC6;&#x78BC;&#x7121;&#x6CD5;&#x767B;&#x5165;&#x7684;&#x554F;&#x984C;">&#x5BC6;&#x78BC;&#x7121;&#x6CD5;&#x767B;&#x5165;&#x7684;&#x554F;&#x984C;</h2><p>&#x9019;&#x4E3B;&#x8981;&#x662F;&#x56E0;&#x70BA; Mysql &#x7248;&#x672C;&#x7684;&#x554F;&#x984C;&#x3002;&#x5BC6;&#x78BC;&#x52A0;&#x5BC6;&#x7684;&#x65B9;&#x5F0F;&#x4E0D;&#x540C;&#x3002;</p><p><strong>reference:</strong></p><ul><li><a href="https://blog.zeroplex.tw/2019/07/mysql-80-plugin-php.html" target="_blank">MySQL 8.0 &#x7684;&#x65B0;&#x5BC6;&#x78BC;&#x52A0;&#x5BC6; plugin &#x5C0E;&#x81F4; PHP &#x9023;&#x7DDA;&#x5931;&#x6557; - Zeroplex &#x751F;&#x6D3B;&#x96A8;&#x7B46;</a>
</li>
<li><a href="https://iter01.com/443370.html" target="_blank">&#x9023;&#x7DDA; MySQL 8.0 &#x6642;&#xFF0C;&#x52A0;&#x5BC6;&#x65B9;&#x5F0F;&#x4E0D;&#x76F8;&#x5BB9;&#x7684;&#x89E3;&#x6C7A;&#x65B9;&#x6CD5; | IT&#x4EBA;</a>
</li>
<li><a href="http://www.andreasgeisler.com/blog/fatal-error-uncaught-pdoexception-the-server-requested-authentication-method-unknown-to-the-client-caching_sha2_password/2018/11/" target="_blank">Andreas Geisler - Berlin based Full Stack Software Developer</a>
</li>
<li><a href="https://mysqlserverteam.com/upgrading-to-mysql-8-0-default-authentication-plugin-considerations/" target="_blank">Upgrading to MySQL 8.0 : Default Authentication Plugin Considerations | MySQL Server Blog</a>
</li>
<li><a href="https://kknews.cc/zh-tw/code/b2jromj.html" target="_blank">MySQL&#x5BC6;&#x78BC;&#x4E0D;&#x80FD;&#x767B;&#x9304;&#x7684;&#x89E3;&#x6C7A;&#x8FA6;&#x6CD5; - &#x6BCF;&#x65E5;&#x982D;&#x689D;</a>
</li></ul>
<h3 id="mycnf">my.cnf</h3><p>&#x5230;&#x9023;&#x52D5;&#x8CC7;&#x6599;&#x593E; /datamount/mysql/conf &#x5E95;&#x4E0B;&#xFF0C;&#x5EFA;&#x7ACB; my.cnf&#xFF0C;
&#x5728; my.cnf &#x52A0;&#x4E0A;&#x4E0B;&#x5217;&#x8CC7;&#x8A0A;&#xFF0C;&#x7136;&#x5F8C;&#x91CD;&#x555F; container&#x3002;  <br></p><pre><code class="lang-{my.cnf}">[mysqld]
default-authentication-plugin = mysql_native_password</code></pre>
<pre><code class="lang-{bash}">docker restart some-mysql</code></pre>
<p>&#x9019;&#x6A23;&#x5C31;&#x53EF;&#x4EE5;&#x5728; VM &#x4E0A;&#x9762;&#xFF0C;&#x7528;&#x8F38;&#x5165;&#x5BC6;&#x78BC;&#x7684;&#x65B9;&#x5F0F;&#x9032;&#x5165; mysql&#x3002;
&#x4F46;&#x5982;&#x679C;&#x60F3;&#x8981;&#x5728;&#x5916;&#x9762;&#x7528;&#x5BC6;&#x78BC;&#x65B9;&#x5F0F;&#x767B;&#x5165;&#x9084;&#x9700;&#x8981;&#x9032;&#x5165; mysql &#x505A;&#x8A2D;&#x5B9A;&#x3002;</p><pre><code class="lang-{bash}">docker exec -it some-mysql bash
mysql -u root -p</code></pre>
<pre><code class="lang-{mysql}">// &#x770B;&#x4E00;&#x4E0B; password &#x7684;&#x52A0;&#x5BC6;&#x65B9;&#x5F0F;&#x3002;
use mysql;
SELECT user, authentication_string, host from user;

// &#x8A2D;&#x5B9A;&#x53EF;&#x4EE5;&#x7528; mysql_native_password &#x52A0;&#x5BC6;&#x65B9;&#x5F0F;&#x767B;&#x5165;&#x3002;
// ALTER USER &apos;root&apos;@&apos;localhost&apos; IDENTIFIED WITH mysql_native_password BY &apos;&lt;your_password&gt;&apos;;
ALTER USER &apos;root&apos;@&apos;%&apos; IDENTIFIED WITH mysql_native_password BY &apos;&lt;your_password&gt;&apos;;
FLUSH PRIVILEGES;</code></pre>
<h3 id="docker-compose">docker-compose</h3><p>&#x6216;&#x662F;&#x4FEE;&#x6539; docker-compose.yml &#x7684; mysql &#x670D;&#x52D9;&#x90E8;&#x5206;&#xFF0C;&#x65B0;&#x589E;&#x4E00;&#x884C;&#x3002;(&#x9019;&#x65B9;&#x6CD5;&#x6211;&#x9084;&#x6C92;&#x5617;&#x8A66;&#x904E;&#xFF0C;&#x4F46;&#x61C9;&#x8A72;&#x53EF;&#x884C;&#x3002;)</p><p>```{docker compose .yml}
command: --default-authentication-plugin=mysql_native_password</p><pre><code>&gt; &#x4EE5;&#x4E0B;&#x662F;&#x820A;&#x7684;&#x505A;&#x6CD5;&#xFF0C;&#x4F9D;&#x820A;&#x53EF;&#x7528;&#xFF0C;&#x6307;&#x793A;&#x6B65;&#x9A5F;&#x6BD4;&#x8F03;&#x591A;&#x4E00;&#x9EDE;&#x3002;  &lt;br&gt;
&gt;  &lt;br&gt;
&gt; **Step01:**  &lt;br&gt;
&gt;  &lt;br&gt;
&gt; &#x53BB; /DBdata/mysql/conf &#x65B0;&#x589E; my.cnf&#x3002;  &lt;br&gt;
&gt; &#x65B0;&#x589E;&#x8207;&#x4FEE;&#x6539;&#x6A94;&#x6848;&#x8981;&#x7528; sudo su &#x6B0A;&#x9650;&#x3002;  &lt;br&gt;
&gt;  &lt;br&gt;
&gt;  &lt;br&gt;
&gt; ```{my.cnf}  &lt;br&gt;
&gt; [mysqld]  &lt;br&gt;
&gt; skip-grant-tables  &lt;br&gt;
&gt; ```  &lt;br&gt;
&gt;  &lt;br&gt;
&gt; ```{bash}  &lt;br&gt;
&gt; docker restart some-mysql  &lt;br&gt;
&gt; ```  &lt;br&gt;
&gt;  &lt;br&gt;
&gt; **Step02:**  &lt;br&gt;
&gt;  &lt;br&gt;
&gt; &#x767B;&#x5165; container  &lt;br&gt;
&gt; &#x767B;&#x5165; mysql&#xFF0C;&#x5BC6;&#x78BC; DAS@mysql2020  &lt;br&gt;
&gt;  &lt;br&gt;
&gt; ```{bash}  &lt;br&gt;
&gt; docker exec -it some-mysql bash  &lt;br&gt;
&gt; mysql -u root -p  &lt;br&gt;
&gt; ```  &lt;br&gt;
&gt;  &lt;br&gt;
&gt; **Step03:**  &lt;br&gt;
&gt;  &lt;br&gt;
&gt; &#x6307;&#x5B9A;&#x4F7F;&#x7528;&#x8CC7;&#x6599;&#x5EAB;&#xFF0C;&#x66F4;&#x65B0;&#x5BC6;&#x78BC;&#x70BA;&#x7A7A;&#x3002;  &lt;br&gt;
&gt;  &lt;br&gt;
&gt; ```{bash}  &lt;br&gt;
&gt; use mysql;  &lt;br&gt;
&gt; SELECT user, authentication_string, host from user;  &lt;br&gt;
&gt; update user set authentication_string=&apos;&apos; where user=&apos;root&apos;;  &lt;br&gt;
&gt; flush privileges;  &lt;br&gt;
&gt; ```  &lt;br&gt;
&gt;  &lt;br&gt;
&gt; **Step04:**  &lt;br&gt;
&gt;  &lt;br&gt;
&gt; &#x9000;&#x51FA;mysql&#xFF0C;&#x628A;&#x7B2C;&#x4E00;&#x6B65;&#x7684;skip-grant-tables&#x8A3B;&#x91CB;&#x3002;&#x518D;&#x91CD;&#x555F;mysql  &lt;br&gt;
&gt;  &lt;br&gt;
&gt; ```{bash}  &lt;br&gt;
&gt; vim my.cnf  &lt;br&gt;
&gt; docker restart some-mysql  &lt;br&gt;
&gt; docker exec -it some-mysql bash  &lt;br&gt;
&gt; mysql -u root -p  &lt;br&gt;
&gt; ```  &lt;br&gt;
&gt;  &lt;br&gt;
&gt; **Step05:**  &lt;br&gt;
&gt;  &lt;br&gt;
&gt; &#x4F7F;&#x7528;&#x539F;&#x59CB;&#x52A0;&#x5BC6;&#x7684;&#x5BC6;&#x78BC; + &#x6B0A;&#x9650;&#x8A2D;&#x5B9A;  &lt;br&gt;
&gt;  &lt;br&gt;
&gt; mysql_native_password  &lt;br&gt;
&gt;  &lt;br&gt;
&gt; ```{bash}  &lt;br&gt;
&gt; use mysql;  &lt;br&gt;
&gt; ALTER USER &apos;root&apos;@&apos;localhost&apos; IDENTIFIED WITH mysql_native_password BY &apos;DAS@mysql2020&apos;;  &lt;br&gt;
&gt; ALTER USER &apos;root&apos;@&apos;%&apos; IDENTIFIED WITH mysql_native_password BY &apos;DAS@mysql2020&apos;;  &lt;br&gt;
&gt; GRANT ALL PRIVILEGES ON *.* TO &apos;root&apos;@&apos;localhost&apos; WITH GRANT OPTION;  &lt;br&gt;
&gt; ```  &lt;br&gt;

---

## &#x770B;&#x4E00;&#x4E9B;&#x8B8A;&#x6578;&#x503C;

**reference:**

- [&#x67E5;&#x8A62; MySQL &#x5C0D; &#x6B64;&#x5E33;&#x865F; &#x958B;&#x653E;(GRANT)&#x54EA;&#x4E9B;&#x6B0A;&#x9650; | Tsung&apos;s Blog](https://blog.longwin.com.tw/2009/06/query-mysql-show-grant-permission-2009/)
- [&#x67E5;&#x8A62; MySQL/MariaDB &#x8CC7;&#x6599;&#x5EAB;&#x7684;&#x4F7F;&#x7528;&#x8005;&#x5E33;&#x865F;&#x6559;&#x5B78; - Office &#x6307;&#x5357;](https://officeguide.cc/how-to-show-list-users-in-a-mysql-mariadb-database/)
- [mysql &#x67E5;&#x8A62; user &#x5E33;&#x865F;&#x53CA;&#x6B0A;&#x9650; @ Js &#x7247;&#x6BB5;&#x8A18;&#x61B6;&#x56DE;&#x9867;&#x4E2D;&#x5FC3; :: &#x75DE;&#x5BA2;&#x90A6; ::](https://jason0324.pixnet.net/blog/post/42795331-mysql-%E6%9F%A5%E8%A9%A2-user-%E5%B8%B3%E8%99%9F%E5%8F%8A%E6%AC%8A%E9%99%90)

```{bash}
SHOW VARIABLES LIKE &apos;lower%&apos;;

use mysql;
select user, authentication_string, host from user;

// &#x67E5;&#x6709;&#x54EA;&#x4E9B;&#x5E33;&#x865F;
SELECT User, Host FROM mysql.user;

// &#x67E5;&#x5E33;&#x865F;&#x6B0A;&#x9650;
// SHOW GRANTS FOR &lt;username&gt;;
SHOW GRANTS FOR root;</code></pre>
<hr><h2 id="&#x5EFA;&#x7ACB;&#x65B0;&#x7528;&#x6236;&#x7D66;&#x4E88;&#x6B0A;&#x9650;">&#x5EFA;&#x7ACB;&#x65B0;&#x7528;&#x6236;+&#x7D66;&#x4E88;&#x6B0A;&#x9650;</h2><p>&#x4F46;&#x662F;&#x6211;&#x9084;&#x4E0D;&#x592A;&#x6703;&#x7D66;&#x4E88;&#x6B0A;&#x9650;&#x3002;</p><pre><code class="lang-{bash}">// CREATE USER &apos;newuser&apos;@&apos;%&apos; IDENTIFIED WITH mysql_native_password BY &apos;&lt;your_password&gt;&apos;;
CREATE USER &apos;kvgh&apos;@&apos;%&apos; IDENTIFIED WITH mysql_native_password BY &apos;kvgh@DB2020&apos;;

// &#x61C9;&#x8A72;&#x662F;&#x9019;&#x500B;&#xFF0C;&#x4F46;&#x662F;&#x9019;&#x6B0A;&#x9650;&#x6709;&#x9EDE;&#x592A;&#x5927;&#x3002;
// GRANT ALL PRIVILEGES ON *.* TO &apos;newuser&apos;@&apos;localhost&apos;;
GRANT ALL PRIVILEGES ON *.* TO &apos;kvgh&apos;@&apos;%&apos;;</code></pre>
<hr><h2 id="&#x8A2D;&#x5B9A;-local-file-&#x53EF;&#x4EE5;&#x4E0A;&#x50B3;">&#x8A2D;&#x5B9A; local file &#x53EF;&#x4EE5;&#x4E0A;&#x50B3;</h2><p><strong>reference:</strong></p><ul><li><a href="https://stackoverflow.com/questions/10762239/mysql-enable-load-data-local-infile" target="_blank">MySQL: Enable LOAD DATA LOCAL INFILE - Stack Overflow</a>
</li></ul>
<p>&#x9019;&#x6A23;&#x5C31;&#x53EF;&#x4EE5;&#x5F9E;&#x7A0B;&#x5F0F;&#x7AEF;&#x4E0A;&#x50B3;&#x8CC7;&#x6599;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x7528; LOAD &#x6307;&#x4EE4;&#x4E0A;&#x50B3;local&#x6A94;&#x6848;&#x3002;</p><pre><code class="lang-{bash}">SHOW GLOBAL VARIABLES LIKE &apos;local_infile&apos;;
SET GLOBAL local_infile = 1;
// &#x7B49;&#x50F9;&#x3002;SET GLOBAL local_infile = &apos;ON&apos;;
// &#x7B49;&#x50F9;&#x3002;SET GLOBAL local_infile = true;</code></pre>
<p>&#x4F46;&#x662F;&#x9019;&#x500B;&#x8A2D;&#x5B9A;&#xFF0C;&#x7D93;&#x904E;&#x91CD;&#x555F;&#x6703;&#x5931;&#x6548;&#xFF0C;&#x6240;&#x4EE5;&#x5FC5;&#x9808;&#x5728; my.cnf &#x4E2D;&#x52A0;&#x5165;&#x6307;&#x4EE4;&#x3002;</p><pre><code class="lang-{my.cnf}">[mysqld]
SET GLOBAL local_infile = 1</code></pre>
<hr><h2 id="&#x7DE8;&#x78BC;">&#x7DE8;&#x78BC;</h2><p><strong>&#x9032;&#x5165; container&#x3001;mysql:</strong></p><pre><code class="lang-{bash}">docker exec -it some-mysql bash
mysql -u root -p

  &gt; show databases;
  &gt; exit</code></pre>
<p><strong>&#x67E5;&#x770B; mysql &#x7684; character-set-server &#x548C; collation-server:</strong></p><pre><code class="lang-{bash}">docker exec -it some-mysql bash
mysql -u root -p

  &gt; SELECT @@character_set_database, @@collation_database;
  &gt; SELECT DEFAULT_CHARACTER_SET_NAME, DEFAULT_COLLATION_NAME FROM INFORMATION_SCHEMA.SCHEMATA; // &#x53E6;&#x4E00;&#x7A2E;&#x4F5C;&#x6CD5;&#x3002;
  &gt;  &lt;br&gt;
  &gt; show variables like &apos;char%&apos;;
  &gt; show variables like &apos;collation%&apos;;
  &gt; exit</code></pre>
<p><strong>&#x4FEE;&#x6539; Configuration file &#x8207;&#x7D50;&#x679C;:</strong></p><p>&#x5373;&#x9023;&#x52D5;&#x8CC7;&#x6599;&#x593E;&#x4E0B;&#xFF0C;&#x65B0;&#x589E; my.cnf&#xFF0C;&#x4FEE;&#x6539;&#x88E1;&#x9762;&#x5167;&#x5BB9;&#x3002;  <br>
&#x4FEE;&#x6539;&#x4E4B;&#x5F8C;&#x8981;&#x91CD;&#x555F; container&#x3002;</p><ul><li>mysqld &#x662F;&#x670D;&#x52D9;&#x7AEF;&#x7A0B;&#x5E8F; = &#x4F5C;&#x70BA; MYSQL Server &#x7684;&#x64CD;&#x4F5C;&#x6307;&#x4EE4;&#x3002;
</li>
<li>mysql&#x662F;&#x547D;&#x4EE4;&#x884C;&#x5BA2;&#x6237;&#x7AEF;&#x7A0B;&#x5E8F; = &#x4F5C;&#x70BA; MYSQL Client &#x7684;&#x64CD;&#x4F5C;&#x6307;&#x4EE4;
</li></ul>
<pre><code class="lang-{my.cnf}">[client]
default-character-set=utf8

[mysql]
default-character-set=utf8

[mysqld]
collation-server = utf8_unicode_ci
init-connect=&apos;SET NAMES utf8&apos;
character-set-server = utf8</code></pre>
<p><img alt="mysql_setting00_mycnf" src="image/mysql_setting00_mycnf.jpg">\</p><p><img alt="mysql_setting01" src="image/mysql_setting01.jpg"></p><p><img alt="mysql_setting02" src="image/mysql_setting02.jpg"></p><p><img alt="mysql_setting03_createtable" src="image/mysql_setting03_createtable.jpg"></p><p><img alt="mysql_setting03" src="image/mysql_setting03.jpg"></p><p><strong>&#x7E3D;&#x7D50; mysql &#x7684; my.cnf:</strong></p><pre><code class="lang-{my.cnf}">[client]
default-character-set = utf8

[mysql]
default-character-set = utf8

[mysqld]
default-authentication-plugin = mysql_native_password
collation-server = utf8_unicode_ci
init-connect = &apos;SET NAMES utf8&apos;
character-set-server = utf8
local-infile = 1</code></pre>
<hr><h2 id="mysql-client">Mysql-Client</h2><p>&#x8981;&#x5728; Unbuntu &#x7CFB;&#x7D71;&#x4E0A;&#x5B89;&#x88DD; mysql-client&#xFF0C;&#x624D;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5C0D;&#x4E0D;&#x540C;&#x7684; DB(for mysql and mariaDB) &#x505A;&#x9023;&#x7DDA;&#x3002;</p><hr><h2 id="install-and-login">install and login</h2><p>-h, --host=name     Connect to host.</p><pre><code class="lang-{bash}">sudo apt install mysql-client-core-5.7

// &#x9023;&#x7DDA;
mysql -h 127.0.0.1 -P 3306
mysql -h &lt;IP&gt; -P 3306 -u root -p</code></pre>
<hr><h2 id="end">END</h2><ul><li><a href="https://stackoverflow.com/questions/5441972/how-to-see-log-files-in-mysql" target="_blank">logging - How to see log files in MySQL? - Stack Overflow</a>: &#x9019;&#x662F;&#x767B;&#x5165;&#x8A18;&#x9304;&#x6216;&#x662F;&#x76F8;&#x95DC;&#x64CD;&#x4F5C;&#x7684; error&#xFF0C;&#x8981;&#x81EA;&#x5DF1;&#x7814;&#x7A76;&#x6E2C;&#x8A66;&#x4E00;&#x4E0B;&#x3002;
</li></ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="MariaDB.html" class="navigation navigation-prev " aria-label="Previous page: MariaDB">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="BigObject.html" class="navigation navigation-next " aria-label="Next page: BigObject">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"MySQL","level":"5.4","depth":1,"next":{"title":"BigObject","level":"5.5","depth":1,"path":"Database/BigObject.md","ref":"./Database/BigObject.md","articles":[]},"previous":{"title":"MariaDB","level":"5.3","depth":1,"path":"Database/MariaDB.md","ref":"./Database/MariaDB.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"Database/MySQL.md","mtime":"2020-08-25T01:36:53.038Z","type":"markdown"},"gitbook":{"version":"3.2.0","time":"2020-08-26T14:05:26.624Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

